(this["webpackJsonpcluj-net"]=this["webpackJsonpcluj-net"]||[]).push([[0],{134:function(e,t,c){},135:function(e,t,c){},225:function(e,t,c){"use strict";c.r(t);var s=c(7),n=c.n(s),a=c(56),r=c.n(a),i=(c(134),c(26)),o=c(24),l=(c(135),c(1)),j=c.n(l),u=c(5),d=c(11),b=c.p+"static/media/logo.a8f0fe33.png",O=c(37),m=c(45),h=c(3),p=n.a.createContext();function x(){return Object(s.useContext)(p)}function f(e){var t=e.children,c=Object(s.useState)(),n=Object(d.a)(c,2),a=n[0],r=n[1],i=Object(s.useState)(!0),o=Object(d.a)(i,2),l=o[0],j=o[1],u=Object(m.b)();Object(s.useEffect)((function(){return Object(m.c)(u,(function(e){r(e),j(!1)}))}),[u]);var b={currentUser:a,signUp:function(e,t){return Object(m.a)(u,e,t)},signIn:function(e,t){return Object(m.d)(u,e,t)},logout:function(){return Object(m.e)(u)}};return l?Object(h.jsx)("div",{className:"loading"}):Object(h.jsx)(p.Provider,{value:b,children:t})}function v(){var e=Object(o.f)(),t=x().logout;function c(){return(c=Object(u.a)(j.a.mark((function c(s){return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:s.preventDefault();try{t()}catch(n){}e("/");case 3:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(e){return c.apply(this,arguments)},children:"Sign Out"})})}var g=c(19),N=c(55),y=function(e){var t=e.setResults,c=e.setShowSearchResults,n=Object(s.useState)(""),a=Object(d.a)(n,2),r=a[0],i=a[1];function o(e){return l.apply(this,arguments)}function l(){return(l=Object(u.a)(j.a.mark((function e(s){var n,a,i,o,l,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),n=Object(g.h)(),a=Object(g.i)(Object(g.d)(n,"users"),Object(g.l)("firstName","==",r)),i=Object(g.i)(Object(g.d)(n,"users"),Object(g.l)("lastName","==",r)),!r){e.next=19;break}return o=[],e.next=8,Object(g.g)(a);case 8:return l=e.sent,e.next=11,Object(g.g)(i);case 11:u=e.sent,l.forEach((function(e){console.log(e.id,"=>",e.data().userName),o.push({id:e.id,userName:e.data().userName,src:e.data().profileImg,birthday:e.data().birthday,city:e.data().location,userId:e.data().userId})})),u.forEach((function(e){console.log(e.id,"=>",e.data().userName),o.push({id:e.id,userName:e.data().userName,src:e.data().profileImg,birthday:e.data().birthday,city:e.data().location,userId:e.data().userId})})),t(o),c(!0),console.log(o),e.next=20;break;case 19:return e.abrupt("return");case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)("div",{className:"search-box",children:Object(h.jsxs)("form",{onSubmit:o,children:[Object(h.jsx)("input",{type:"search",placeholder:"Search...",name:"q",onChange:function(e){return i(e.target.value)}}),Object(h.jsx)(N.b,{type:"submit",className:"search-icon",onClick:o})]})})},S=c(40);var w=function(e){var t=e.currentUser,c=e.setResults,n=e.setShowSearchResults,a=Object(s.useState)(window.screen.width),r=Object(d.a)(a,2),o=r[0],l=r[1],j=Object(s.useState)(!1),u=Object(d.a)(j,2),m=u[0],p=u[1];return Object(s.useEffect)((function(){window.addEventListener("resize",(function(){l(window.screen.width)}))}),[o]),console.log(t),o>=768?t&&null!=t.photoURL?Object(h.jsxs)("div",{className:"nav-container",children:[Object(h.jsx)("div",{className:"logo-center",children:Object(h.jsx)("img",{src:b,alt:"logo",width:"100%"})}),Object(h.jsxs)("div",{className:"nav-right",children:[Object(h.jsx)(y,{setResults:c,setShowSearchResults:n}),Object(h.jsx)(i.b,{to:"/UserProfile/".concat(t.uid),children:Object(h.jsxs)("div",{className:"nav-right-inner",children:[Object(h.jsx)("div",{className:"nav-img-container",children:Object(h.jsx)("img",{className:"nav-img img-fluid",src:t.photoURL,alt:"Img",width:"100%"})}),Object(h.jsx)("p",{children:t.displayName})]})}),Object(h.jsx)(v,{})]})]}):!t||null!==t.photoURL&&void 0!==t.photoURL?Object(h.jsxs)("div",{className:"nav-container",children:[Object(h.jsx)("div",{className:"nav-left",children:Object(h.jsx)("h1",{children:"From People to People"})}),Object(h.jsx)("div",{className:"logo-center",children:Object(h.jsx)("img",{src:b,alt:"logo",width:"100%"})}),Object(h.jsxs)("div",{className:"nav-right",children:[Object(h.jsx)("button",{children:Object(h.jsx)(i.b,{to:"/SignUp",children:"Sign Up"})}),Object(h.jsx)("button",{children:Object(h.jsx)(i.b,{to:"/SignIn",children:"Sign In"})})]})]}):Object(h.jsxs)("div",{className:"nav-container",children:[Object(h.jsx)("div",{className:"logo-center",children:Object(h.jsx)("img",{src:b,alt:"logo",width:"100%"})}),Object(h.jsxs)("div",{className:"nav-right",children:[Object(h.jsx)(y,{setResults:c,setShowSearchResults:n}),Object(h.jsx)(i.b,{to:"/UserProfile/".concat(t.uid),children:Object(h.jsxs)("div",{className:"nav-right-inner",children:[Object(h.jsx)("div",{className:"nav-img-container",style:{textAlign:"center"},children:Object(h.jsx)(O.a,{style:{fontSize:"2em",transform:"translate(0,50%)"}})}),Object(h.jsx)("p",{children:t.displayName})]})}),Object(h.jsx)(v,{})]})]}):t&&null!=t.photoURL?Object(h.jsx)("div",{className:"nav-container",children:Object(h.jsxs)("div",{className:"nav-right",children:[Object(h.jsxs)("div",{className:"nav-control",children:[Object(h.jsx)(i.b,{to:"/UserProfile/".concat(t.uid),children:Object(h.jsxs)("div",{className:"nav-right-inner",children:[Object(h.jsx)("div",{className:"nav-img-container",children:Object(h.jsx)("img",{className:"nav-img img-fluid",src:t.photoURL,alt:"Img",width:"100%"})}),Object(h.jsx)("p",{children:t.displayName})]})}),m?Object(h.jsx)("div",{className:"open-close-btn",children:Object(h.jsx)(S.b,{onClick:function(e){return p(!1)}})}):Object(h.jsx)("div",{className:"open-close-btn",children:Object(h.jsx)(S.c,{onClick:function(e){return p(!0)}})})]}),m&&Object(h.jsx)(y,{setResults:c,setShowSearchResults:n}),m&&Object(h.jsx)(v,{})]})}):!t||null!==t.photoURL&&void 0!==t.photoURL?Object(h.jsxs)("div",{className:"nav-container",children:[Object(h.jsx)("div",{className:"nav-left",children:Object(h.jsx)("h1",{children:"From People to People"})}),Object(h.jsx)("div",{className:"logo-center",children:Object(h.jsx)("img",{src:b,alt:"logo",width:"100%"})}),Object(h.jsxs)("div",{className:"nav-right",children:[Object(h.jsx)("button",{children:Object(h.jsx)(i.b,{to:"/SignUp",children:"Sign Up"})}),Object(h.jsx)("button",{children:Object(h.jsx)(i.b,{to:"/SignIn",children:"Sign In"})})]})]}):Object(h.jsx)("div",{className:"nav-container",children:Object(h.jsxs)("div",{className:"nav-right",children:[Object(h.jsxs)("div",{className:"nav-control",children:[Object(h.jsx)(i.b,{to:"/UserProfile/".concat(t.uid),children:Object(h.jsxs)("div",{className:"nav-right-inner",children:[Object(h.jsx)("div",{className:"nav-img-container",children:Object(h.jsx)(O.a,{style:{fontSize:"2em",transform:"translate(0,30%)"}})}),Object(h.jsx)("p",{children:t.displayName})]})}),m?Object(h.jsx)("div",{className:"open-close-btn",children:Object(h.jsx)(S.b,{onClick:function(e){return p(!1)}})}):Object(h.jsx)("div",{className:"open-close-btn",children:Object(h.jsx)(S.c,{onClick:function(e){return p(!0)}})})]}),m&&Object(h.jsx)(y,{setResults:c,setShowSearchResults:n}),m&&Object(h.jsx)(v,{})]})})},k=c(120),U=c(46);function I(e){e.possition;var t=e.setPlace;e.found;return Object(h.jsx)("div",{children:Object(h.jsx)("input",{type:"text",placeholder:"Search Places Nearby",className:"location-input",onChange:function(e){return t(e.target.value)}})})}c(88);function C(e){var t=e.found,c=e.setUsersPlace,n=e.setSelectedPoi,a=(e.setMapCenter,e.length,e.setShowInput),r=Object(s.useState)(!1),i=Object(d.a)(r,2),o=i[0],l=i[1];return Object(s.useEffect)((function(){void 0!==t&&l(!0)}),[t]),Object(h.jsx)("div",{className:"search-results",children:o&&t&&t.map((function(e){return Object(h.jsx)("div",{id:e.name,onClick:function(e){return function(e){c(e.target.id);var s=t.find((function(t){return t.name===e.target.id}));console.log(s),n([s]),l(!1),a(!1)}(e)},children:e.name},e.adress)}))})}var L=c(88).default;function E(e){var t=e.setUsersPlace,c=(e.setMapLogitude,e.setMapLatitude,e.setMapCenter,e.setShowInput),n=Object(s.useState)({lat:null,lon:null}),a=Object(d.a)(n,2),r=a[0],i=a[1],o=Object(s.useState)(null),l=Object(d.a)(o,2),j=l[0],u=l[1],b=Object(s.useState)([]),O=Object(d.a)(b,2),m=O[0],p=O[1],x=Object(s.useState)([]),f=Object(d.a)(x,2),v=f[0],g=f[1],N=Object(s.useState)(),y=Object(d.a)(N,2),S=y[0],w=y[1];console.log(v);var k,U=Object(s.useState)(!1),E=Object(d.a)(U,2),R=E[0],P=E[1];return Object(s.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){if(console.log("Latitude is :",e.coords.latitude),console.log("Longitude is :",e.coords.longitude),j&&!(j.length<5)){"".concat(j,".json?");var t="https://api.tomtom.com/search/2/poiSearch/".concat(j,".json?");k=t+"key=".concat("jvjSIOzzSm662QNX9oeUAiriVbzCd3Wh"),k+="&lon=".concat(e.coords.longitude),k+="&lat=".concat(e.coords.latitude),i({lat:Number(e.coords.latitude),lon:Number(e.coords.longitude)}),L.get(k).then((function(e){e.data.results.map((function(t){var c=[];e.data.results.map((function(e){var t={name:e.poi.name,adress:e.address.freeformAddress,lon:e.position.lon,lat:e.position.lat};return c.push(t)}));p(c),u(""),P(!0)}))}))}}))}),[j]),Object(s.useEffect)((function(){w(m.length)}),[m]),Object(h.jsxs)("div",{children:[Object(h.jsx)(I,{possition:r,setPlace:u}),Object(h.jsx)(C,{found:m,length:S,setUsersPlace:t,setSelectedPoi:g,show:R,setShow:P,setShowInput:c})]})}c(155),c(175);function R(e){var t=e.usersPlace,c=e.src;return""!==t&&""===c?Object(h.jsx)("div",{className:"map-container",children:Object(h.jsx)("iframe",{src:"https://www.google.com/maps/embed/v1/place?key=AIzaSyBUzYDHUwbOcWeXObJ4KYRZMAQLZG3zpVU&q=".concat(t),frameBorder:"0",title:"gmap",width:"100%",height:"200",loading:"lazy",allowFullScreen:!0})}):""!==t&&""!==c&&null!==c?Object(h.jsx)("div",{className:"map-container",children:Object(h.jsx)("div",{className:"post-hidden-map",children:Object(h.jsx)("iframe",{src:"https://www.google.com/maps/embed/v1/place?key=AIzaSyBUzYDHUwbOcWeXObJ4KYRZMAQLZG3zpVU&q=".concat(t),frameBorder:"0",title:"gmap",width:"100%",height:"200",loading:"lazy",allowFullScreen:!0})})}):""!==t&&null===c?Object(h.jsx)("div",{className:"map-container",children:Object(h.jsx)("iframe",{src:"https://www.google.com/maps/embed/v1/place?key=AIzaSyBUzYDHUwbOcWeXObJ4KYRZMAQLZG3zpVU&q=".concat(t),frameBorder:"0",title:"gmap",width:"100%",height:"200",loading:"lazy",allowFullScreen:!0})}):null}function P(e){var t=e.userName,c=e.usersPlace,s=e.postImg;console.log(s);x().currentUser;return!c||""!==s&&null!=s?null!==s&&void 0!==c?Object(h.jsxs)("div",{className:"post-preview",children:[Object(h.jsxs)("p",{children:[t," is at ",c]}),Object(h.jsx)("div",{className:"post-image-container",children:Object(h.jsx)("img",{src:s.image,alt:"post",width:"50%"})})]}):null!==s?Object(h.jsx)("div",{className:"post-preview",children:Object(h.jsx)("div",{className:"post-image-container",children:Object(h.jsx)("img",{src:s.image,alt:"post",width:"50%"})})}):Object(h.jsx)("div",{}):Object(h.jsxs)("div",{className:"post-preview",children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("span",{children:t})," is at ",Object(h.jsx)("span",{children:c})]}),Object(h.jsx)(R,{usersPlace:c,src:s})]})}var z=c(82),D=(c(176),function(e){var t=e.currentUser,c=e.close,n=Object(s.useState)(""),a=Object(d.a)(n,2),r=a[0],i=a[1],o=Object(s.useState)(""),l=Object(d.a)(o,2),b=l[0],O=l[1],m=Object(s.useState)(null),p=Object(d.a)(m,2),x=p[0],v=p[1],N=Object(s.useState)(null),y=Object(d.a)(N,2),S=y[0],w=y[1];console.log(x),console.log(S);var I=Object(s.useRef)(null),C=Object(s.useState)(""),L=Object(d.a)(C,2),R=L[0],D=L[1],q=Object(s.useState)(!1),M=Object(d.a)(q,2),A=M[0],T=M[1],F=Object(z.useSpring)({from:{opacity:0,marginTop:-500},to:{opacity:1,marginTop:0}}),B=function(){var e=Object(u.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files[0]&&(c=t.target.files[0],v(c),w({image:URL.createObjectURL(t.target.files[0])}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Y(){return(Y=Object(u.a)(j.a.mark((function e(s){var n,a,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),n={weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"EET"},a=new Date,o=Object(g.h)(),e.prev=4,e.next=7,Object(g.a)(Object(g.d)(o,"posts"),{author:t.email,person:t.displayName,userId:t.uid,userImg:t.photoURL,postText:r,imgSrc:b,location:R,date:a.toLocaleDateString("en-US",n)});case 7:e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.error();case 13:i(""),v(null),O(""),w(null),D(""),c();case 19:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}return Object(h.jsxs)(z.animated.div,{style:Object(k.a)({},F),className:"animated",children:[" ",Object(h.jsxs)("div",{className:"post-card",children:[Object(h.jsx)("div",{className:"btn-container",children:Object(h.jsx)("button",{className:"close-btn",onClick:c,children:"X"})}),Object(h.jsx)(f,{children:Object(h.jsx)(P,{userName:t.displayName,usersPlace:R,postImg:S})}),Object(h.jsx)("div",{className:"form-container",children:Object(h.jsxs)("form",{className:"post-form",children:[Object(h.jsx)("input",{type:"text",placeholder:"Post Text",className:"description",onChange:function(e){return i(e.target.value)}}),Object(h.jsxs)("div",{className:"image-selector",children:[Object(h.jsx)("div",{children:Object(h.jsx)("label",{htmlFor:"picture",children:"Add a picture"})}),Object(h.jsx)("button",{type:"button",className:"image-select-btn",onClick:function(e){I.current.click(e)},children:"Select A picture"}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{type:"file",name:"image",id:"image",accept:"image/*",ref:I,onChange:B,style:{display:"none"}})})]}),Object(h.jsxs)("div",{className:"seach-container",children:[Object(h.jsx)("div",{className:"location-input",onClick:function(e){return T(!0)},children:"Add a location"}),A&&Object(h.jsxs)("div",{children:[Object(h.jsx)(E,{setUsersPlace:D,setShowInput:T}),Object(h.jsx)("button",{className:"sign-up-btn",onClick:function(e){return T(!1)},children:"Close"})]})]}),Object(h.jsx)("button",{className:"image-select-btn",onClick:function(e){e.preventDefault();var t=Object(U.b)(),c=Object(U.c)(t,x.name),s=Object(U.d)(c,x);s.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){Object(U.a)(s.snapshot.ref).then((function(e){console.log("File available at",e),O(e)}))}))},children:"Save Image"}),Object(h.jsx)("button",{className:"image-select-btn",onClick:function(e){return Y.apply(this,arguments)},children:"Publish "})]})})]})]})}),q=c(69),M=c(84);function A(e){var t=e.location,c=e.setShowLocation,n=e.src,a=e.showLocation;return Object(s.useEffect)((function(){void 0!==n&&""!==n||!1!==a||c(!0)})),""!==t?c?Object(h.jsx)("div",{className:"post-location",children:Object(h.jsxs)("p",{onMouseEnter:function(e){return c(!0)},onMouseLeave:function(e){return c(!1)},className:"show-location",children:[" ",Object(h.jsx)(M.a,{}),"is at ",t]})}):Object(h.jsx)("div",{className:"post-location",children:Object(h.jsxs)("p",{children:[Object(h.jsx)(M.a,{}),"is at ",t]})}):null}function T(e){var t=e.author,c=e.authorImg,s=e.userId;return null!==c?Object(h.jsxs)(i.b,{to:"/UserProfile/".concat(s),children:[" ",Object(h.jsxs)("div",{className:"post-user",children:[Object(h.jsx)("div",{className:"post-user-img-container",children:Object(h.jsx)("img",{src:c,alt:t,width:"100%"})}),Object(h.jsx)("div",{className:"post-user-name",children:Object(h.jsx)("p",{children:t})})]})]}):Object(h.jsxs)(i.b,{to:"/UserProfile/".concat(s),children:[" ",Object(h.jsxs)("div",{className:"post-user",children:[Object(h.jsx)("div",{className:"post-user-img-container",children:Object(h.jsx)(O.a,{style:{fontSize:"2em",transform:"translate(0,30%)"}})}),Object(h.jsx)("div",{className:"post-user-name",children:Object(h.jsx)("p",{children:t})})]})]})}function F(e){var t=e.title;return void 0!==t||""!==t?Object(h.jsx)("div",{className:"post-title",children:Object(h.jsx)("h4",{children:t})}):null}function B(e){var t=e.id,c=e.addLike,s=e.setDocs;return Object(h.jsx)("div",{className:"like-button",id:t,onMouseEnter:function(e){return s(e.target.id)},onMouseLeave:function(e){return s(null)},children:Object(h.jsxs)("h6",{onClick:function(e){return c(e)},children:[Object(h.jsx)(S.e,{})," Like"]})})}var Y=c(128);function X(e){var t=e.setShowCommentInput,c=e.setDocs,s=e.id;return Object(h.jsx)("div",{className:"comment-button",children:Object(h.jsxs)("h6",{id:s,onClick:function(){t(!0),c(s)},children:[Object(h.jsx)(Y.a,{})," Comment"]})})}function _(e){var t=e.like,c=Object(s.useState)(!1),n=Object(d.a)(c,2),a=n[0],r=n[1];return void 0!==t?Object(h.jsxs)("div",{className:"post-like",children:[1===t.length?Object(h.jsxs)("p",{onClick:function(e){return r(!a)},children:[t.length," like",Object(h.jsx)(S.e,{style:{fontSize:"0.7em"}})]}):Object(h.jsxs)("p",{onClick:function(e){return r(!a)},children:[t.length," likes",Object(h.jsx)(S.e,{style:{fontSize:"0.7em"}})]}),a&&Object(h.jsxs)("div",{className:"post-like-list",children:[Object(h.jsx)("div",{className:"post-like-close",onClick:function(e){return r(!1)},children:"X"}),t.map((function(e){return Object(h.jsx)(i.b,{to:"/UserProfile/".concat(e.currentUserId),children:Object(h.jsxs)("div",{className:"post-like-item",children:[Object(h.jsx)("div",{className:"post-like-image-container",children:null!==e.currentUserImg?Object(h.jsx)("img",{src:e.currentUserImg,alt:e.currentUser,width:"100%"}):Object(h.jsx)(O.a,{style:{fontSize:"2em",transform:"translate(0,20%)"}})}),Object(h.jsx)("div",{className:"post-like-user",children:Object(h.jsx)("h6",{children:e.currentUser})})]},e.currentUserId)},e.currentUserId)}))]})]}):Object(h.jsx)("div",{className:"post-like",children:Object(h.jsx)("p",{children:"No like's yet"})})}var J=function(e){var t=e.setCommentText,c=e.addComment,s=e.setShowCommentInput;return Object(h.jsxs)("div",{className:"comment-form-container",children:[Object(h.jsxs)("form",{onSubmit:function(e){return c(e)},children:[Object(h.jsx)("input",{type:"text",placeholder:"Type a comment",onChange:function(e){return t(e.target.value)}}),Object(h.jsx)("button",{type:"submit",children:"Add Comment"})]}),Object(h.jsx)("button",{className:"btn-cancel",onClick:function(e){return s(!1)},children:"Cancel"})]})},W=function(e){var t=e.commentList,c=Object(s.useState)(!1),n=Object(d.a)(c,2),a=n[0],r=n[1];return void 0!==t?Object(h.jsxs)("div",{className:"post-comments",children:[1===t.length?Object(h.jsxs)("p",{onClick:function(e){return r(!a)},children:[t.length," comment "]}):Object(h.jsxs)("p",{onClick:function(e){return r(!a)},children:[t.length," comments "]}),a&&Object(h.jsxs)("div",{className:"post-comment-list",children:[Object(h.jsxs)("button",{onClick:function(e){return r(!1)},style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"#334756",color:"#fff",position:"absolute",top:"1%",right:"1%"},children:[" ",Object(h.jsx)("p",{style:{transform:"translate(-50%,-10%)",textDecoration:"none"},children:"X"})," "]}),t.map((function(e){return Object(h.jsxs)("div",{className:"comment-container",children:[Object(h.jsxs)(i.b,{to:"/UserProfile/".concat(e.currentUserId),children:[Object(h.jsx)("div",{className:"post-comment-img-container",children:null!==e.currentUserImg?Object(h.jsx)("img",{src:e.currentUserImg,alt:e.currentUser,width:"100%"}):Object(h.jsx)(O.a,{style:{transform:"translate(0,30%)"}})}),Object(h.jsx)("p",{children:e.currentUser})]}),Object(h.jsx)("div",{className:"post-comment-text",children:e.commentText})]},e.index)}))]})]}):Object(h.jsx)("div",{className:"post-comments",children:Object(h.jsx)("p",{children:"No comments yet"})})};function Z(e){var t=e.src,c=[t];return""!==t?Object(h.jsx)("div",{children:Object(h.jsx)(q.a,{images:c})}):null}function G(e){var t=e.like,c=e.title,n=e.id,a=e.src,r=e.location,i=e.author,o=e.authorImg,l=e.userId,b=e.currentUserId,O=e.currentUser,m=e.currentUserImg,p=e.comment,x=Object(s.useState)(!1),f=Object(d.a)(x,2),v=f[0],N=f[1],y=Object(s.useState)(null),S=Object(d.a)(y,2),w=S[0],k=S[1],U=Object(s.useState)(!1),I=Object(d.a)(U,2),C=I[0],L=I[1],E=Object(s.useState)(""),P=Object(d.a)(E,2),z=P[0],D=P[1];function q(){return(q=Object(u.a)(j.a.mark((function e(t){var c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(g.h)(),s=Object(g.e)(c,"posts",w),e.prev=2,e.next=5,Object(g.k)(s,{like:Object(g.c)({currentUserImg:m,currentUser:O,currentUserId:b})});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("something went wrong!");case 10:window.location.reload();case 11:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function M(){return(M=Object(u.a)(j.a.mark((function e(t){var c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=Object(g.h)(),s=Object(g.e)(c,"posts",w),e.prev=3,e.next=6,Object(g.k)(s,{comment:Object(g.c)({currentUserImg:m,currentUser:O,currentUserId:b,commentText:z})});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("something went wrong!");case 11:D(""),L(!1),k(null),window.location.reload();case 15:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}return console.log(w),console.log(m,O,b),Object(h.jsxs)("div",{className:"post",id:n,children:[Object(h.jsxs)("div",{className:"post-header",children:[Object(h.jsx)(T,{author:i,authorImg:o,userId:l}),Object(h.jsx)(A,{location:r,setShowLocation:N,src:a,showLocation:v})]}),Object(h.jsxs)("div",{className:"post-content",children:[Object(h.jsx)(F,{title:c}),Object(h.jsx)(Z,{src:a}),v&&Object(h.jsx)(R,{usersPlace:r,src:a}),Object(h.jsx)(_,{like:t})]}),Object(h.jsxs)("div",{className:"post-footer",children:[Object(h.jsx)(B,{id:n,addLike:function(e){return q.apply(this,arguments)},setDocs:k}),Object(h.jsx)(X,{id:n,setDocs:k,setShowCommentInput:L})]}),C&&Object(h.jsx)(J,{setShowCommentInput:L,setCommentText:D,addComment:function(e){return M.apply(this,arguments)}}),Object(h.jsx)(W,{commentList:p})]},n)}var K=function(e){var t=e.posts,c=e.user,n=e.userImg,a=e.userID,r=Object(s.useState)(t),i=Object(d.a)(r,2),o=i[0],l=i[1],j=Object(s.useState)(c),u=Object(d.a)(j,2),b=(u[0],u[1]),O=Object(s.useState)(),m=Object(d.a)(O,2);m[0],m[1];console.log(c);Object(g.h)();console.log(t);return console.log(n),console.log([]),Object(s.useEffect)((function(){l(t)}),[t]),Object(s.useEffect)((function(){b(c)}),[c]),Object(h.jsx)("div",{className:"post-list",children:o.map((function(e){return Object(h.jsx)(G,{like:e.like,title:e.text,id:e.id,src:e.src,location:e.location,author:e.person,authorImg:e.userImg,userId:e.userId,currentUserId:a,currentUser:c,currentUserImg:n,comment:e.comments},e.id)}))})},Q=c(85);function V(){var e=Object(o.f)();return"/"===Object(o.e)().pathname?Object(h.jsx)("div",{className:"back-button",children:Object(h.jsx)(Q.a,{onClick:function(){return window.location.reload()}})}):Object(h.jsx)("div",{className:"back-button",children:Object(h.jsx)(Q.a,{onClick:function(){return e(-1)},style:{marginBottom:"2px"}})})}var H=function(e){var t=e.results,c=e.setShowPosts,n=e.setShowSearchResults,a=Object(s.useState)([]),r=Object(d.a)(a,2),o=r[0],l=r[1];return Object(s.useEffect)((function(){l(t)}),[t]),Object(h.jsxs)("div",{className:"results-container",children:[Object(h.jsx)(V,{setShowPosts:c,setShowItems:n}),o.map((function(e){return""!==e.src?Object(h.jsx)(i.b,{to:"/UserProfile/".concat(e.userId),children:Object(h.jsxs)("div",{className:"row-user",children:[Object(h.jsx)("div",{className:"col-25-user",children:Object(h.jsx)("div",{className:"img-retainer",children:Object(h.jsx)("img",{src:e.src,alt:"user-pic",width:"100%"})})}),Object(h.jsxs)("div",{className:"col-75-user",children:[Object(h.jsx)("h3",{children:e.userName}),Object(h.jsx)("p",{children:e.city}),Object(h.jsx)("p",{children:e.birthday.substring(5,10)})]})]},e.id)},e.id):Object(h.jsx)(i.b,{to:"/UserProfile/".concat(e.userId),children:Object(h.jsxs)("div",{className:"row-user",children:[Object(h.jsx)("div",{className:"col-25-user",children:Object(h.jsx)("div",{className:"img-retainer",children:Object(h.jsx)(O.a,{style:{fontSize:"50px",marginTop:"10px"}})})}),Object(h.jsxs)("div",{className:"col-75-user",children:[Object(h.jsx)("h3",{children:e.userName}),Object(h.jsx)("p",{children:e.city}),Object(h.jsx)("p",{children:e.birthday.substring(5,10)})]})]},e.id)},e.id)}))]})},$=function(){var e=x().currentUser,t=Object(s.useState)(!1),c=Object(d.a)(t,2),n=c[0],a=c[1],r=Object(s.useState)([]),o=Object(d.a)(r,2),l=o[0],b=o[1],O=Object(s.useState)(!0),m=Object(d.a)(O,2),p=m[0],v=m[1],N=Object(s.useState)(!1),y=Object(d.a)(N,2),S=y[0],k=y[1],U=Object(s.useState)([]),I=Object(d.a)(U,2),C=I[0],L=I[1],E=Object(s.useState)(!1),R=Object(d.a)(E,2),P=R[0],z=R[1],q=Object(s.useState)(!1),M=Object(d.a)(q,2),A=M[0],T=M[1];return console.log(l),Object(s.useEffect)((function(){v(!0!==S)}),[S]),Object(s.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t=Object(g.h)(),c=[],e.next=5,Object(g.g)(Object(g.d)(t,"posts"));case 5:e.sent.forEach((function(e){console.log(e.id," => ",e.data()),c.push({id:e.id,author:e.data().author,location:e.data().location,text:e.data().postText,date:e.data().date,src:e.data().imgSrc,person:e.data().person,like:e.data().like,userImg:e.data().userImg,userId:e.data().userId,comments:e.data().comment})})),console.log(c),b(c),T(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),A?Object(h.jsx)("div",{className:"loading"}):e?Object(h.jsxs)("div",{className:"home",children:[Object(h.jsx)(w,{currentUser:e,setShowSearchResults:k,setResults:L,setShowMenu:z,showMenu:P}),Object(h.jsxs)("div",{className:"post-btn-container",children:[Object(h.jsx)("button",{className:"sign-up-btn",onClick:function(e){return a(!0)},children:"Create a post"}),Object(h.jsx)(i.b,{to:"/CompanyRegistration",children:Object(h.jsx)("button",{className:"sign-up-btn",children:"Create a Company Page"})})]}),Object(h.jsxs)("div",{className:"home-right-user",children:[n&&Object(h.jsx)(D,{currentUser:e,close:function(){a(!1)}}),p&&Object(h.jsx)(K,{posts:l,user:e.displayName,userImg:e.photoURL,userID:e.uid}),S&&Object(h.jsx)(H,{results:C,setShowPosts:v,setShowSearchResults:k})]})]}):Object(h.jsxs)("div",{className:"home",children:[Object(h.jsx)(f,{children:Object(h.jsx)(w,{currentUser:e})}),Object(h.jsxs)("div",{className:"container-home",children:[Object(h.jsx)("div",{className:"home-left",children:Object(h.jsxs)("div",{className:"social-container",children:[Object(h.jsx)("h1",{children:"Social Network "}),Object(h.jsx)("div",{className:"social-img-container",children:Object(h.jsx)("img",{src:"https://cdn.pixabay.com/photo/2020/08/22/11/21/network-5508173_960_720.png",alt:"Social network",width:"100%"})})]})}),Object(h.jsxs)("div",{className:"home-right",children:[Object(h.jsxs)("div",{className:"local-container",children:[Object(h.jsx)("h1",{className:"first",children:"Local Businesses"}),Object(h.jsx)("div",{className:"local-1",children:Object(h.jsx)("img",{src:"https://cdn.pixabay.com/photo/2012/04/03/22/49/fruits-25266__340.jpg",alt:"Local",width:"100%"})})]}),Object(h.jsxs)("div",{className:"job-container",children:[Object(h.jsx)("h1",{className:"second",children:"Local Work Offers"}),Object(h.jsx)("div",{className:"job-img-container",children:Object(h.jsx)("img",{src:"https://cdn.pixabay.com/photo/2020/02/10/02/36/interview-4835116__340.jpg",alt:"job",width:"100%"})})]})]})]})]})};function ee(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(d.a)(a,2),i=r[0],l=r[1],b=Object(s.useState)(""),O=Object(d.a)(b,2),p=O[0],x=O[1],f=Object(s.useState)(),v=Object(d.a)(f,2),N=v[0],y=v[1],S=Object(s.useState)(""),w=Object(d.a)(S,2),k=w[0],I=w[1],C=Object(s.useState)(),L=Object(d.a)(C,2),E=L[0],R=L[1],P=Object(s.useState)(null),z=Object(d.a)(P,2),D=z[0],q=z[1],M=Object(s.useState)(""),A=Object(d.a)(M,2),T=A[0],F=A[1],B=Object(s.useState)(null),Y=Object(d.a)(B,2),X=Y[0],_=Y[1],J=Object(s.useRef)(null),W=Object(o.f)();function Z(){return(Z=Object(u.a)(j.a.mark((function e(t){var s,n,a,r,o,l,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=Object(m.b)(),n=Object(g.h)(),null!==(a=s.currentUser)&&(r=a.email,o=a.photoURL,l=a.uid,console.log(o)),u=Object(g.e)(n,"users",r),e.next=8,Object(m.f)(s.currentUser,{photoURL:T,displayName:c}).then((function(){})).catch((function(e){}));case 8:return e.next=10,Object(g.k)(u,{userName:i+" "+p,age:Number(N),birthday:E,location:k,profileImg:T,firstName:i,lastName:p,userId:l});case 10:t.target.reset(),W("/");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){n(i+" "+p)}),[i,p]),Object(h.jsxs)("div",{className:"card-account",children:[Object(h.jsx)("h1",{children:"Let's add your data"}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-25",children:Object(h.jsx)("label",{htmlFor:"picture",children:"Add a Profile Picture"})}),Object(h.jsx)("button",{type:"button",className:"choose-file",onClick:function(e){J.current.click()},children:"Select A picture"}),Object(h.jsx)("div",{className:"col-75",children:Object(h.jsx)("input",{type:"file",name:"image",id:"image",accept:"image/*",ref:J,onChange:function(e){var t=e.target.files[0];_(t),q(URL.createObjectURL(e.target.files[0]))},capture:"camera",style:{display:"none"}})})]}),Object(h.jsxs)("div",{className:"card-body",children:[D&&Object(h.jsxs)("div",{className:"img-btn-container",children:[Object(h.jsx)("div",{className:"img-container",children:Object(h.jsx)("img",{src:D,alt:"Your Upload File",width:"100%"})}),Object(h.jsx)("div",{className:"btn-container",children:Object(h.jsx)("button",{type:"confirm",onClick:function(){var e=Object(U.b)(),t=Object(U.c)(e,X.name),c=Object(U.d)(t,X);c.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){console.error(e)}),(function(){Object(U.a)(c.snapshot.ref).then((function(e){console.log("File available at",e),F(e)}))}))},children:"Upload Image"})})]}),Object(h.jsxs)("form",{className:"form-account",onSubmit:function(e){return function(e){return Z.apply(this,arguments)}(e)},children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-25",children:Object(h.jsx)("label",{children:"First Name"})}),Object(h.jsx)("div",{className:"col-75",children:Object(h.jsx)("input",{type:"text",required:!0,placeholder:"Your First Name",onChange:function(e){return l(e.target.value)}})})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-25",children:Object(h.jsx)("label",{htmlFor:"Last-Name",children:"Last Name"})}),Object(h.jsx)("div",{className:"col-75",children:Object(h.jsx)("input",{type:"text",required:!0,placeholder:"Your Last Name",onChange:function(e){return x(e.target.value)}})})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-25",children:Object(h.jsx)("label",{children:"Age"})}),Object(h.jsx)("div",{className:"col-75",children:Object(h.jsx)("input",{type:"number",step:"1",placeholder:"Your age",onChange:function(e){return y(e.target.value)}})})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-25",children:Object(h.jsx)("label",{htmlFor:"location",children:"Insert the place you live"})}),Object(h.jsx)("div",{className:"col-75",children:Object(h.jsx)("input",{type:"text",placeholder:"City or Town",required:!0,onChange:function(e){return I(e.target.value)}})})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-25",children:Object(h.jsx)("label",{htmlFor:"birth-date",children:"Your Birth Date"})}),Object(h.jsx)("div",{className:"col-75",children:Object(h.jsx)("input",{type:"date",placeholder:"Your Birth day",required:!0,onChange:function(e){return R(e.target.value)}})})]}),Object(h.jsx)("button",{type:"submit",children:"Submit"})]})]})]})}var te=c(86),ce=(c(17),{apiKey:"AIzaSyC2xyrB8Fl8YaYDSTJXSmLLtd6A-LU1dDo",authDomain:"cluj-net.firebaseapp.com",projectId:"cluj-net",storageBucket:"cluj-net.appspot.com",messagingSenderId:"212528912098",appId:"1:212528912098:web:9fd677be03fc18e5b670bb",measurementId:"G-D6WBS2DDTC"});c(15);function se(){var e,t=Object(s.useState)(""),c=Object(d.a)(t,2),n=c[0],a=c[1],r=Object(s.useState)(""),i=Object(d.a)(r,2),l=i[0],b=i[1],O=Object(s.useState)(""),p=Object(d.a)(O,2),f=p[0],v=p[1],N=Object(s.useState)(""),y=Object(d.a)(N,2),S=y[0],w=y[1],k=Object(s.useState)(!1),U=Object(d.a)(k,2),I=(U[0],U[1]),C=x().signUp,L=Object(o.f)(),E=(Object(m.b)(),Object(g.h)());function R(){return(R=Object(u.a)(j.a.mark((function t(c){var s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),s=Object(g.e)(E,"users",n),t.next=4,Object(g.f)(s);case 4:if(!t.sent.exists()){t.next=7;break}return t.abrupt("return",w("Email Already Registered!"));case 7:if(l===f){t.next=9;break}return t.abrupt("return",w("Passwords do not match!"));case 9:return t.prev=9,I(!0),w(""),t.next=14,C(n,l).then((function(t){return e=t.user.email}));case 14:return t.next=16,Object(g.j)(Object(g.e)(E,"users",e),{email:n});case 16:t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(9),t.abrupt("return",w(t.t0.message));case 21:c.target.reset(),L("/Account");case 23:case"end":return t.stop()}}),t,null,[[9,18]])})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"card",children:[S&&Object(h.jsx)("h3",{className:"error",children:S}),Object(h.jsx)("h1",{children:"Welcome!"}),Object(h.jsx)("h3",{className:"account-signup",children:"Let's Set Your Account"}),Object(h.jsxs)("form",{action:"submit",onSubmit:function(e){return R.apply(this,arguments)},children:[Object(h.jsx)("div",{className:"email",children:Object(h.jsx)("input",{type:"email",name:"email",id:"email",required:!0,onChange:function(e){return a(e.target.value)},placeholder:"Email"})}),Object(h.jsx)("div",{className:"password",children:Object(h.jsx)("input",{type:"password",name:"password",id:"pass",onChange:function(e){return b(e.target.value)},placeholder:"Password"})}),Object(h.jsx)("div",{className:"confirm-pass",children:Object(h.jsx)("input",{type:"password",name:"confirm-password",id:"pass-confirm",onChange:function(e){return v(e.target.value)},placeholder:"Confirm Password"})}),Object(h.jsx)("button",{type:"submit",className:"sign-up-btn",children:"Sign-Up"})]})]})}function ne(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(d.a)(a,2),i=r[0],l=r[1],b=Object(s.useState)(""),O=Object(d.a)(b,2),m=O[0],p=O[1],f=Object(o.f)(),v=x().signIn;function g(){return(g=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,v(c,i);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",p("Failed to Sign-In"));case 9:t.target.reset(),f("/");case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"card",style:{height:"auto"},children:[m&&Object(h.jsx)("h3",{className:"error",children:m}),Object(h.jsxs)("form",{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-25",children:Object(h.jsx)("label",{htmlFor:"email",children:"E-mail"})}),Object(h.jsx)("div",{className:"col-75",children:Object(h.jsx)("input",{type:"text",placeholder:"Email",required:!0,onChange:function(e){return n(e.target.value)}})})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-25",children:Object(h.jsx)("label",{htmlFor:"Password",children:"Password"})}),Object(h.jsx)("div",{className:"col-75",children:Object(h.jsx)("input",{type:"password",name:"password",id:"pass",required:!0,onChange:function(e){return l(e.target.value)}})})]}),Object(h.jsx)("button",{type:"submit",className:"sign-up-btn",children:"Sign in"})]})]})}te.a.apps.lenght||te.a.initializeApp(ce);var ae=c(129),re=function(e){var t=e.currentUser,c=e.userEmail,n=e.userImg,a=e.userid,r=e.userName,o=e.setUpdated,l=Object(s.useState)(null),b=Object(d.a)(l,2),O=b[0],m=b[1];console.log(O);var p=Object(s.useState)(t.email),x=Object(d.a)(p,2),f=x[0],v=x[1];function N(){return(N=Object(u.a)(j.a.mark((function e(){var s,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(g.h)(),i=Object(g.e)(s,"users",f),l=Object(g.e)(s,"users",O),e.next=5,Object(g.k)(i,{contactRequest:Object(g.b)({userEmail:c,userImg:n,userid:a,userName:r}),contacts:Object(g.c)({userEmail:c,userImg:n,userid:a,userName:r})});case 5:return e.next=7,Object(g.k)(l,{contacts:Object(g.c)({userEmail:t.email,userImg:t.photoURL,userid:t.uid,userName:t.displayName})});case 7:o(!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(u.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(g.h)(),s=Object(g.e)(t,"users",f),e.next=4,Object(g.k)(s,{contactRequest:Object(g.b)({userEmail:c,userImg:n,userid:a,userName:r}),declinedContact:Object(g.c)({userEmail:c,userImg:n,userid:a,userName:r})});case 4:o(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(f),Object(s.useEffect)((function(){v(t.email)}),[t]),Object(h.jsxs)("div",{className:"request-item",children:[Object(h.jsx)(i.b,{to:"/UserProfile/".concat(a),children:Object(h.jsxs)("div",{className:"post-like-item",children:[Object(h.jsx)("div",{className:"post-like-image-container",children:Object(h.jsx)("img",{src:n,alt:r,width:"100%"})}),Object(h.jsx)("div",{className:"post-like-user",children:Object(h.jsx)("h6",{children:r})})]})},a),Object(h.jsxs)("div",{className:"request-item-controls",children:[Object(h.jsxs)("button",{className:"accept",id:c,onMouseEnter:function(e){return m(e.target.id)},onMouseLeave:function(e){return m(null)},onClick:function(){return N.apply(this,arguments)},children:[Object(h.jsx)(S.a,{})," Accept"]}),Object(h.jsxs)("button",{className:"decline",id:c,onMouseEnter:function(e){return m(e.target.id)},onMouseLeave:function(e){return m(null)},onClick:function(){return y.apply(this,arguments)},children:[Object(h.jsx)(ae.a,{})," Decline"]})]})]},a)},ie=function(e){e.email;var t=e.image,c=e.name,s=e.id;return Object(h.jsx)(i.b,{className:"contact-link",to:"/UserProfile/".concat(s),replace:!0,children:Object(h.jsxs)("div",{className:"contact",children:[Object(h.jsx)("div",{className:"contact-image-container",children:null!==t?Object(h.jsx)("img",{src:t,alt:c,width:"100%"}):Object(h.jsx)(O.a,{style:{fontSize:"2em",transform:"translate(0,30%)"}})}),c]})})},oe=function(e){var t=e.contactList,c=Object(s.useState)(t),n=Object(d.a)(c,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){r(t)}),[t]),console.log(a),void 0!==a?Object(h.jsx)("div",{className:"contact-list",children:a.map((function(e){return console.log(a.indexOf(e)),a.indexOf(e)<=5?Object(h.jsx)(ie,{name:e.userName,image:e.userImg,id:e.userid,email:e.userEmail},e.userid):null}))}):null};function le(e){var t=e.companyList,c=Object(s.useState)(t),n=Object(d.a)(c,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){r(t)}),[t]),Object(h.jsx)("div",{className:"company-list",children:a.map((function(e){return Object(h.jsx)(i.b,{to:"/CompanyProfile/".concat(e.name),children:Object(h.jsxs)("div",{className:"company-container",children:[Object(h.jsx)("div",{className:"company-image-container",children:""!==e.image?Object(h.jsx)("img",{src:e.image,alt:e.name}):Object(h.jsx)(N.a,{style:{marginTop:"0px"}})}),Object(h.jsx)("h5",{style:{marginTop:"0px"},children:e.name})]})},e.id)}))})}function je(e){var t=e.userInfo,c=e.currentUser,n=e.id,a=e.setUpdated,r=e.updated,i=e.company,o=e.owner,l=Object(s.useState)(t),b=Object(d.a)(l,2),m=b[0],p=b[1];console.log(m);var x=Object(s.useState)(n),f=Object(d.a)(x,2),v=(f[0],f[1],Object(s.useState)(c)),N=Object(d.a)(v,2),y=N[0],w=N[1],k=Object(s.useState)(null),U=Object(d.a)(k,2),I=U[0],C=U[1],L=Object(s.useState)(!1),E=Object(d.a)(L,2),R=E[0],P=E[1];console.log(I);var z=Object(s.useState)(),D=Object(d.a)(z,2),q=D[0],M=D[1];console.log(q);var A,T,F,B=Object(s.useState)([]),Y=Object(d.a)(B,2),X=Y[0],_=Y[1],J=Object(s.useState)(),W=Object(d.a)(J,2),Z=W[0],G=W[1],K=Object(s.useState)(i),Q=Object(d.a)(K,2),V=Q[0],H=Q[1];if(void 0!==X){var $=X.find((function(e,t){if(e.userid===y.uid)return!0}));T=$}if(void 0!==Z){var ee=Z.find((function(e,t){if(e.userid===y.uid)return!0}));F=ee}function te(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(u.a)(j.a.mark((function e(t){var c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(g.h)(),s=Object(g.e)(c,"users",I),e.next=4,Object(g.k)(s,{contactRequest:Object(g.c)({userid:y.uid,userImg:y.photoURL,userName:y.displayName,userEmail:y.email})});case 4:a(!r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(s.useEffect)((function(){H(i)}),[i,n]),Object(s.useEffect)((function(){var e=[];m.forEach((function(t){void 0!==t.contactRequest&&t.contactRequest.map((function(t){return e.push(t)})),M(e)}));var t=[];m.forEach((function(e){void 0!==e.declinedContac&&e.declinedContac.map((function(e){return t.push(e)})),_(t)}));var c=[];m.forEach((function(e){void 0!==e.contacts&&e.contacts.map((function(e){return c.push(e)})),G(c)}))}),[m,t]),Object(s.useEffect)((function(){w(c)}),[c]),Object(s.useEffect)((function(){p(t)}),[t]),void 0!==q){var se=q.find((function(e,t){if(e.userid===y.uid)return!0}));A=se}return y.uid!==n?Object(h.jsx)("div",{className:"user-top-card",children:m.map((function(e){return A||T?Object(h.jsxs)("div",{className:"user-top-card-row",children:[Object(h.jsx)("div",{className:"user-top-card-col-25",children:Object(h.jsx)("div",{className:"user-top-card-img-container",children:""!==e.src?Object(h.jsx)("img",{src:e.src,alt:"user-pic",width:"100%"}):Object(h.jsx)(O.a,{style:{fontSize:"7em",transform:"translate(45%,50%)"}})})}),Object(h.jsxs)("div",{className:"user-top-card-col-75",children:[Object(h.jsx)("h3",{children:e.user}),Object(h.jsx)("h4",{children:e.city}),Object(h.jsxs)("p",{children:["Birthday:",e.birthday.substring(5,10)]}),Object(h.jsx)("button",{className:"add-contact",id:e.id,onMouseEnter:function(e){return C(e.target.id)},onMouseLeave:function(e){return C(null)},onClick:function(e){return te(e)},disabled:!0,children:"Requested"}),Object(h.jsx)(oe,{contactList:Z}),void 0!==V&&o===n?Object(h.jsx)(le,{companyList:V}):null]})]},e.id):F?Object(h.jsxs)("div",{className:"user-top-card-row",children:[Object(h.jsx)("div",{className:"user-top-card-col-25",children:Object(h.jsx)("div",{className:"user-top-card-img-container",children:""!==e.src?Object(h.jsx)("img",{src:e.src,alt:"user-pic",width:"100%"}):Object(h.jsx)(O.a,{style:{fontSize:"7em",transform:"translate(45%,50%)"}})})}),Object(h.jsxs)("div",{className:"user-top-card-col-75",children:[Object(h.jsx)("h3",{children:e.user}),Object(h.jsx)("h4",{children:e.city}),Object(h.jsxs)("p",{children:["Birthday:",e.birthday.substring(5,10)]}),Object(h.jsx)("button",{className:"add-contact",id:e.id,onMouseEnter:function(e){return C(e.target.id)},onMouseLeave:function(e){return C(null)},onClick:function(e){return te(e)},disabled:!0,children:"Connected"}),Object(h.jsx)(oe,{contactList:Z}),void 0!==V&&o===n?Object(h.jsx)(le,{companyList:V}):null]})]},e.id):Object(h.jsxs)("div",{className:"user-top-card-row",children:[Object(h.jsx)("div",{className:"user-top-card-col-25",children:Object(h.jsx)("div",{className:"user-top-card-img-container",children:""!==e.src?Object(h.jsx)("img",{src:e.src,alt:"user-pic",width:"100%"}):Object(h.jsx)(O.a,{style:{fontSize:"7em",transform:"translate(45%,50%)"}})})}),Object(h.jsxs)("div",{className:"user-top-card-col-75",children:[Object(h.jsx)("h3",{children:e.user}),Object(h.jsx)("h4",{children:e.city}),Object(h.jsxs)("p",{children:["Birthday:",e.birthday.substring(5,10)]}),Object(h.jsx)("button",{className:"add-contact",id:e.id,onMouseEnter:function(e){return C(e.target.id)},onMouseLeave:function(e){return C(null)},onClick:function(e){return te(e)},children:"Add to Contacts"}),Object(h.jsx)(oe,{contactList:Z}),void 0!==V&&o===n?Object(h.jsx)(le,{companyList:V}):null]})]},e.id)}))}):Object(h.jsx)("div",{className:"user-top-card",children:m.map((function(e){return void 0!==e.contactRequest?Object(h.jsxs)("div",{className:"user-top-card-row",children:[Object(h.jsx)("div",{className:"user-top-card-col-25",children:Object(h.jsx)("div",{className:"user-top-card-img-container",children:""!==e.src?Object(h.jsx)("img",{src:e.src,alt:"user-pic",width:"100%"}):Object(h.jsx)(O.a,{style:{fontSize:"7em",transform:"translate(45%,50%)"}})})}),Object(h.jsxs)("div",{className:"user-top-card-col-75",children:[Object(h.jsx)("h3",{children:e.user}),Object(h.jsx)("h4",{children:e.city}),Object(h.jsxs)("p",{children:["Birthday:",e.birthday.substring(5,10)]}),Object(h.jsxs)("button",{className:"show-requests",onClick:function(e){return P(!R)},children:[Object(h.jsx)(S.d,{style:{marginTop:"0px",fontSize:"1.6em"}})," ",Object(h.jsx)("span",{style:{color:"red"},children:e.contactRequest.length})," "]}),R&&Object(h.jsx)("div",{className:"request-container",children:e.contactRequest.map((function(e){return Object(h.jsx)(re,{userEmail:e.userEmail,userImg:e.userImg,userid:e.userid,userName:e.userName,currentUser:c,setUpdated:a},e.userid)}))}),Object(h.jsx)(oe,{contactList:Z}),void 0!==V?Object(h.jsx)(le,{companyList:V}):null]})]},e.id):Object(h.jsxs)("div",{className:"user-top-card-row",children:[Object(h.jsx)("div",{className:"user-top-card-col-25",children:Object(h.jsx)("div",{className:"user-top-card-img-container",children:""!==e.src?Object(h.jsx)("img",{src:e.src,alt:"user-pic",width:"100%"}):Object(h.jsx)(O.a,{style:{fontSize:"7em",transform:"translate(45%,50%)"}})})}),Object(h.jsxs)("div",{className:"user-top-card-col-75",children:[Object(h.jsx)("h3",{children:e.user}),Object(h.jsx)("h4",{children:e.city}),Object(h.jsxs)("p",{children:["Birthday:",e.birthday.substring(5,10)]}),Object(h.jsx)(oe,{contactList:Z}),void 0!==V?Object(h.jsx)(le,{companyList:V}):null]})]},e.id)}))})}var ue=function(){var e=x().currentUser,t=Object(o.g)().id;console.log(t),console.log(e);var c=Object(s.useState)([]),n=Object(d.a)(c,2),a=n[0],r=n[1],i=Object(s.useState)([]),l=Object(d.a)(i,2),b=l[0],O=l[1],m=Object(s.useState)(!1),p=Object(d.a)(m,2),v=p[0],N=p[1];console.log(b),console.log(a);var y=Object(s.useState)(!1),S=Object(d.a)(y,2),w=S[0],k=S[1],U=Object(s.useState)(),I=Object(d.a)(U,2),C=I[0],L=I[1],E=Object(s.useState)(""),R=Object(d.a)(E,2),P=R[0],z=R[1];return Object(s.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var c,s,n,a,i,o,l,u,d,b;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),c=Object(g.h)(),s=Object(g.d)(c,"users"),n=Object(g.i)(s,Object(g.l)("userId","==",t)),a=Object(g.d)(c,"posts"),i=Object(g.i)(a,Object(g.l)("userId","==",t)),o=Object(g.d)(c,"company"),l=Object(g.i)(o,Object(g.l)("owner","==",t)),u=[],d=[],b=[],e.next=13,Object(g.g)(n);case 13:return e.sent.forEach((function(e){console.log(e.id,"=>",e.data()),d.push({id:e.id,userId:e.data().userID,user:e.data().userName,city:e.data().location,birthday:e.data().birthday,src:e.data().profileImg,age:e.data().age,contactRequest:e.data().contactRequest,declinedContact:e.data().declinedContact,contacts:e.data().contacts}),O(d)})),e.next=17,Object(g.g)(i);case 17:return e.sent.forEach((function(e){console.log(e.id,"=>",e.data()),u.push({id:e.id,author:e.data().author,location:e.data().location,text:e.data().postText,date:e.data().date,src:e.data().imgSrc,person:e.data().person,like:e.data().like,userImg:e.data().userImg,userId:e.data().userId}),r(u),console.log(u)})),e.next=21,Object(g.g)(l);case 21:e.sent.forEach((function(e){console.log(e.id,"=>",e.data()),b.push({id:e.id,name:e.data().name,city:e.data().city,adress:e.data().street,image:e.data().image}),L(b),z(e.data().owner)})),N(!1);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,w]),v?Object(h.jsx)("div",{className:"loading"}):Object(h.jsx)("div",{children:Object(h.jsxs)(f,{children:[Object(h.jsx)(V,{}),Object(h.jsx)(je,{userInfo:b,id:t,currentUser:e,setUpdated:k,updated:w,company:C,owner:P}),Object(h.jsx)(K,{posts:a,user:e.displayName,userImg:e.photoURL,userID:e.uid})]})})},de=c(226),be=c(229),Oe=c(230),me=c(227),he=c(228);var pe=function(){var e=x().currentUser,t=Object(s.useState)(!1),c=Object(d.a)(t,2),n=c[0],a=c[1],r=Object(s.useState)(""),i=Object(d.a)(r,2),o=i[0],l=i[1],b=Object(s.useState)(""),O=Object(d.a)(b,2),m=O[0],p=O[1],f=Object(s.useState)(""),v=Object(d.a)(f,2),N=v[0],y=v[1],S=Object(s.useState)(""),w=Object(d.a)(S,2),k=w[0],U=w[1],I=Object(s.useState)(e),C=Object(d.a)(I,2),L=C[0],E=C[1],R=Object(g.h)();function P(){return(P=Object(u.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a(!0),c=Object(g.e)(R,"company",o),e.next=5,Object(g.f)(c);case 5:if(!e.sent.exists()){e.next=10;break}return U("Company already registered"),a(!1),e.abrupt("return");case 10:if(""!==o&&""!==m&&""!==N){e.next=12;break}return e.abrupt("return",U("Please check the details"));case 12:return e.prev=12,U(""),e.next=16,Object(g.j)(Object(g.e)(R,"company",o),{owner:L.uid,name:o,city:m,street:N,image:""});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(12),U(e.t0);case 21:a(!1);case 22:case"end":return e.stop()}}),e,null,[[12,18]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){E(e)}),[e]),Object(h.jsxs)(de.a,{style:{margin:"0 auto",marginTop:"80px",width:"500px"},onSubmit:function(e){return P.apply(this,arguments)},children:[k&&Object(h.jsx)(be.a,{variant:"warning",children:k}),Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(me.a,{children:"Company Name"}),Object(h.jsx)(he.a,{placeholder:"Company Name",onChange:function(e){return l(e.target.value)},required:!0})]}),Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(me.a,{children:" City or Town"}),Object(h.jsx)(he.a,{placeholder:"City orTown",onChange:function(e){return p(e.target.value)},required:!0})]}),Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(me.a,{children:" Street and Number"}),Object(h.jsx)(he.a,{placeholder:"Street and Street Number",onChange:function(e){return y(e.target.value)},required:!0})]}),!1===n?Object(h.jsx)("button",{className:"sign-up-btn",type:"submit",children:"Submit"}):Object(h.jsx)("button",{className:"sign-up-btn",disabled:!0,children:"Saving Information"})]})};function xe(e){e.city,e.name,e.adress,e.image,e.owner,e.currentUser,e.setShowMap,e.SetShowJobs;return Object(h.jsx)("div",{})}function fe(e){var t=e.city,c=e.name,n=e.adress,a=e.image,r=(e.owner,e.currentUser,Object(s.useState)(!1)),i=Object(d.a)(r,2),o=i[0],l=i[1];return Object(h.jsx)("div",{className:"company-card-container",children:Object(h.jsxs)("div",{className:"row row-company",children:[Object(h.jsx)("div",{className:"col-25",children:Object(h.jsx)("div",{className:"logo-container",children:""===a?Object(h.jsx)(N.a,{style:{fontSize:"10em"},className:"briefcase"}):Object(h.jsx)("img",{src:a,alt:c,width:"100%",height:"100%"})})}),Object(h.jsx)("div",{className:"col-75",children:Object(h.jsxs)("div",{className:"company-info",children:[Object(h.jsx)("h2",{children:c}),Object(h.jsxs)("h3",{onMouseEnter:function(e){return l(!0)},onMouseLeave:function(e){return l(!1)},children:[t,",",n]}),o&&Object(h.jsx)(R,{usersPlace:n+t})]})})]})})}var ve=function(){var e=x().currentUser,t=Object(o.g)().id,c=Object(s.useState)([]),n=Object(d.a)(c,2),a=n[0],r=n[1],i=Object(s.useState)(!1),l=Object(d.a)(i,2),b=(l[0],l[1],Object(s.useState)(!1)),O=Object(d.a)(b,2);O[0],O[1];return console.log(e.uid),console.log(t),Object(s.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var c,s,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(g.h)(),s=[],n=Object(g.d)(c,"company"),a=Object(g.i)(n,Object(g.l)("name","==",t)),e.next=6,Object(g.g)(a);case 6:e.sent.forEach((function(e){console.log(e.id,"=>",e.data()),s.push({id:e.id,name:e.data().name,city:e.data().city,image:e.data().image,adress:e.data().street,owner:e.data().owner})})),r(s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(h.jsxs)("div",{className:"company-profile",children:[Object(h.jsx)(V,{}),a.map((function(t){return e.uid===t.owner?Object(h.jsx)(fe,{name:t.name,city:t.city,adress:t.adress,image:t.image,owner:t.owner,currentUser:e},t.name):Object(h.jsx)(xe,{name:t.name,city:t.city,adress:t.adress,image:t.image,owner:t.owner,currentUser:e},t.name)}))]})};var ge=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(i.a,{children:Object(h.jsx)(f,{children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",element:Object(h.jsx)($,{})}),Object(h.jsx)(o.a,{path:"/SignUp",element:Object(h.jsx)(se,{})}),Object(h.jsx)(o.a,{path:"/SignIn",element:Object(h.jsx)(ne,{})}),Object(h.jsx)(o.a,{path:"/Account",element:Object(h.jsx)(ee,{})}),Object(h.jsx)(o.a,{path:"/SignOut",element:Object(h.jsx)(v,{})}),Object(h.jsx)(o.a,{path:"/UserProfile/:id",element:Object(h.jsx)(ue,{})}),Object(h.jsx)(o.a,{path:"/CompanyRegistration",element:Object(h.jsx)(pe,{})}),Object(h.jsx)(o.a,{path:"/CompanyProfile/:id",element:Object(h.jsx)(ve,{})})]})})})})},Ne=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,231)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),s(e),n(e),a(e),r(e)}))};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(ge,{})}),document.getElementById("root")),Ne()}},[[225,1,2]]]);
//# sourceMappingURL=main.01830756.chunk.js.map